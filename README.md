**Инструкция по развертыванию и запуску**

## Требования:
    PHP 7.4 или выше.
    MysQL или MariaDB.
    Composer.
    Веб-сервер (Apache/Nginx) с поддержкой PHP.
    Расширения PHP: pdo, pdo_mysql, curl, gd (для QR кодов), intl.

## Установка:
    Скачайте архив с кодом или склонируйте репозиторий.
    В терминале перейдите в корень проекта.
    Выполните composer install (если еще не установлено).
    Выполните composer require endroid/qr-code.

## База данных:
    Создайте пустую базу данных (например, yii2shortener) в phpMyAdmin или консоли.
    Отредактируйте config/db.php, указав имя БД, логин и пароль.
    Запустите миграцию: php yii migrate. Подтвердите создание таблиц.

## Права доступа:
    Убедитесь, что папка runtime и web/assets доступны для записи веб-сервером.
    В Linux: chmod -R 777 runtime web/assets.

## Запуск:
    Откройте браузер и перейдите на адрес вашего проекта (например, http://localhost/basic/web/index.php).
    Введите ссылку (например, https://google.com).
    Нажмите "ОК".
    Если ссылка валидна и доступна, вы увидите короткую ссылку и QR код.
    При клике на короткую ссылку (или сканировании QR) произойдет редирект на Google, а в базе данных увеличится счетчик clicks и появится запись в url_log с вашим IP.

## Как это работает (Логика):
    Валидация: JS отправляет URL на сервер. PHP проверяет формат через filter_var. Затем делает curl запрос к целевому сайту. Если сайт не отвечает за 5 секунд или возвращает ошибку 4xx/5xx, AJAX вернет ошибку.
    Генерация: Если все ОК, создается запись в БД с уникальным short_code (случайная строка 6 символов).
    QR Code: Библиотека endroid/qr-code генерирует изображение прямо в памяти PHP и возвращает его как Base64 строку, которая вставляется в src картинки на фронтенде. Никаких внешних запросов к api.qrserver.com не делается.
    Редирект: При переходе по ссылке site/redirect?code=XYZ, контроллер находит запись, пишет лог (IP, UserAgent), увеличивает счетчик и делает HTTP 302 редирект.